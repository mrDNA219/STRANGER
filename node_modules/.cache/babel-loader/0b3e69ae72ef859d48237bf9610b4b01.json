{"ast":null,"code":"import _slicedToArray from\"/Users/francis/Desktop/Bootcamp/Stranger's Things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,Fragment,useEffect,useState}from\"react\";import{Link,useParams}from\"react-router-dom\";import\"../style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Posts=function Posts(_ref){var posts=_ref.posts,token=_ref.token,retrievePosts=_ref.retrievePosts;useEffect(function(){retrievePosts();},[token]);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];function postMatches(post,text){var title=post.title,description=post.description,location=post.location,price=post.price,willDeliver=post.willDeliver;if(title.toLowerCase().includes(text.toLowerCase())||description.toLowerCase().includes(text.toLowerCase())||[willDeliver].toString().toLowerCase().includes(text.toLowerCase())){return post;}}var filteredPosts=posts.filter(function(post){return postMatches(post,searchTerm);});var postsToDisplay=searchTerm.length?filteredPosts:posts;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:function onSubmit(e){return e.preventDefault();},children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Search Criteria\",className:\"inputs\",onChange:function onChange(e){return setSearchTerm(e.target.value);}})}),postsToDisplay.map(function(post){var description=post.description,location=post.location,price=post.price,title=post.title,isAuthor=post.isAuthor,willDeliver=post.willDeliver,_id=post._id;return/*#__PURE__*/_jsxs(\"div\",{className:\"posts\",children:[/*#__PURE__*/_jsx(\"h3\",{children:title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",description]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Location: \",location]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: \",price]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Will Deliver: \",[willDeliver].toString()]}),isAuthor?/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/posts/edit-post/\".concat(_id),children:\"Edit\"}),/*#__PURE__*/_jsx(Link,{to:\"/posts/\".concat(_id),children:\"View\"})]}):/*#__PURE__*/_jsx(Link,{to:\"/posts/\".concat(_id),children:\"View\"})]},_id);})]});};export default Posts;","map":{"version":3,"names":["React","Fragment","useEffect","useState","Link","useParams","Posts","posts","token","retrievePosts","searchTerm","setSearchTerm","postMatches","post","text","title","description","location","price","willDeliver","toLowerCase","includes","toString","filteredPosts","filter","postsToDisplay","length","e","preventDefault","target","value","map","isAuthor","_id"],"sources":["/Users/francis/Desktop/Bootcamp/Stranger's Things/src/components/Posts.js"],"sourcesContent":["import  {React, Fragment, useEffect, useState} from \"react\";\nimport { Link, useParams} from \"react-router-dom\";\nimport \"../style.css\"\nconst Posts = ({posts, token, retrievePosts}) => {\n    useEffect(() => {\n        retrievePosts()\n    }, [token])\n    const [searchTerm, setSearchTerm] = useState('')\n    function postMatches (post, text) {\n        const {title, description, location, price, willDeliver} = post\n        if(title.toLowerCase().includes(text.toLowerCase()) \n        || description.toLowerCase().includes(text.toLowerCase()) \n        || [willDeliver].toString().toLowerCase().includes(text.toLowerCase()))\n\n        {\n            return post\n        }\n    }\n    const filteredPosts = posts.filter(post => postMatches(post, searchTerm));\n    const postsToDisplay = searchTerm.length ? filteredPosts : posts;\n\n    return (\n        <div>\n            <form onSubmit={(e) => e.preventDefault()}>\n                <input type=\"text\" placeholder=\"Enter Search Criteria\" className=\"inputs\" onChange={(e) => setSearchTerm(e.target.value)}></input>\n            </form>\n            {\n                postsToDisplay.map((post) => {\n                    const {description, location, price, title, isAuthor, willDeliver, _id} = post;\n                    return (\n                    <div key={_id} className=\"posts\">\n                        <h3>{title}</h3>\n                        <p>Description: {description}</p>\n                        <p>Location: {location}</p>\n                        <p>Price: {price}</p>\n                        <p>Will Deliver: {[willDeliver].toString()}</p>\n                        { \n                        isAuthor ? (\n                            <Fragment>\n                            <Link to={`/posts/edit-post/${_id}`}>Edit</Link>\n                            <Link to={`/posts/${_id}`}>View</Link>\n                            </Fragment>\n                        ) : (\n                            <Link to={`/posts/${_id}`}>View</Link>\n                        )\n                        \n                        }\n                    </div>\n                    )\n                })\n            }\n        </div>\n    )\n}\n\nexport default Posts"],"mappings":"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"},"metadata":{},"sourceType":"module"}