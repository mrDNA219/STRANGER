{"ast":null,"code":"var _jsxFileName = \"/Users/francis/Desktop/Bootcamp/Stranger's Things/src/components/EditPost.js\",\n    _s = $RefreshSig$();\n\nimport { React, useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { updatePost } from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditPost = _ref => {\n  _s();\n\n  let {\n    posts,\n    token,\n    navigate,\n    retrievePosts\n  } = _ref;\n  useEffect(() => {\n    retrievePosts();\n  }, []);\n  const {\n    postID\n  } = useParams();\n\n  if (posts.length) {\n    const [currentPost] = posts.filter(post => post._id === postID);\n    const {\n      title,\n      description,\n      location,\n      price,\n      willDeliver\n    } = currentPost;\n    const [newTitle, setNewTitle] = useState(title);\n    const [newDescription, setNewDescription] = useState(description);\n    const [newLocation, setNewLocation] = useState(location);\n    const [newPrice, setNewPrice] = useState(price);\n    const [newWillDeliver, setNewWillDeliver] = useState(willDeliver);\n\n    async function editPost() {\n      const updatedPost = {\n        token: token,\n        title: newTitle,\n        description: newDescription,\n        location: newLocation,\n        price: newPrice,\n        willDeliver: newWillDeliver,\n        _id: postID\n      };\n      await updatePost(updatedPost);\n      retrievePosts();\n      navigate('./posts');\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => {\n        e.preventDefault();\n        editPost();\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: title,\n        onChange: e => setNewTitle(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: description,\n        onChange: e => setNewDescription(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: location,\n        onChange: e => setNewLocation(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: price,\n        onChange: e => setNewPrice(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: willDeliver.toString(),\n        onChange: e => setNewWillDeliver(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Edit Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this);\n  }\n};\n\n_s(EditPost, \"CvP34iTqHpDNzIU/4IY8pehoTDA=\", false, function () {\n  return [useParams];\n});\n\n_c = EditPost;\nexport default EditPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditPost\");","map":{"version":3,"names":["React","useState","useEffect","useParams","updatePost","EditPost","posts","token","navigate","retrievePosts","postID","length","currentPost","filter","post","_id","title","description","location","price","willDeliver","newTitle","setNewTitle","newDescription","setNewDescription","newLocation","setNewLocation","newPrice","setNewPrice","newWillDeliver","setNewWillDeliver","editPost","updatedPost","e","preventDefault","target","value","toString"],"sources":["/Users/francis/Desktop/Bootcamp/Stranger's Things/src/components/EditPost.js"],"sourcesContent":["import {React, useState, useEffect} from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport {updatePost} from \"../api\"\n\nconst EditPost = ({ posts, token, navigate, retrievePosts}) => {\n    useEffect(() =>{\n        retrievePosts();\n      }, [])\n    const { postID } = useParams();\n    if(posts.length){\n        const [currentPost] = posts.filter(post => post._id === postID);\n        const {title, description, location, price, willDeliver} = currentPost;\n\n        const [newTitle, setNewTitle] = useState(title)\n        const [newDescription, setNewDescription] = useState(description)\n        const [newLocation, setNewLocation] = useState(location)\n        const [newPrice, setNewPrice] = useState(price)\n        const [newWillDeliver, setNewWillDeliver] = useState(willDeliver)\n    \n        async function editPost() {\n            const updatedPost = {\n               token: token,\n               title: newTitle,\n               description: newDescription,\n               location: newLocation,\n               price: newPrice,\n               willDeliver: newWillDeliver,\n               _id: postID\n            }\n            await updatePost(updatedPost)\n            retrievePosts();\n            navigate('./posts')\n        }\n        return (\n            <form onSubmit={(e) => {\n                e.preventDefault();\n                editPost();\n            }}>\n                <input type=\"text\" placeholder={title} onChange={(e) => setNewTitle(e.target.value)}></input>\n                <input type=\"text\" placeholder={description} onChange={(e) => setNewDescription(e.target.value)}></input>\n                <input type=\"text\" placeholder={location} onChange={(e) => setNewLocation(e.target.value)}></input>\n                <input type=\"text\" placeholder={price} onChange={(e) => setNewPrice(e.target.value)}></input>\n                <input type=\"text\" placeholder={willDeliver.toString()} onChange={(e) => setNewWillDeliver(e.target.value)}></input>\n                <button type='submit'>Edit Post</button>\n                \n    \n            </form>\n        )\n    } else {\n        return (\n            <h1>Loading</h1>\n        )\n    }\n\n}\nexport default EditPost"],"mappings":"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"},"metadata":{},"sourceType":"module"}