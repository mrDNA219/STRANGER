{"ast":null,"code":"import _regeneratorRuntime from\"/Users/francis/Desktop/Bootcamp/Stranger's Things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/francis/Desktop/Bootcamp/Stranger's Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/francis/Desktop/Bootcamp/Stranger's Things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState}from\"react\";import{useParams}from\"react-router-dom\";import{updatePost,deletePosts}from\"../api\";import\"../style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditPost=function EditPost(_ref){var posts=_ref.posts,token=_ref.token,navigate=_ref.navigate,retrievePosts=_ref.retrievePosts;var _useParams=useParams(),postID=_useParams.postID;var _posts$filter=posts.filter(function(post){return post._id===postID;}),_posts$filter2=_slicedToArray(_posts$filter,1),currentPost=_posts$filter2[0];var title=currentPost.title,description=currentPost.description,location=currentPost.location,price=currentPost.price,willDeliver=currentPost.willDeliver;var _useState=useState(title),_useState2=_slicedToArray(_useState,2),newTitle=_useState2[0],setNewTitle=_useState2[1];var _useState3=useState(description),_useState4=_slicedToArray(_useState3,2),newDescription=_useState4[0],setNewDescription=_useState4[1];var _useState5=useState(location),_useState6=_slicedToArray(_useState5,2),newLocation=_useState6[0],setNewLocation=_useState6[1];var _useState7=useState(price),_useState8=_slicedToArray(_useState7,2),newPrice=_useState8[0],setNewPrice=_useState8[1];var _useState9=useState(willDeliver),_useState10=_slicedToArray(_useState9,2),newWillDeliver=_useState10[0],setNewWillDeliver=_useState10[1];function editPost(){return _editPost.apply(this,arguments);}function _editPost(){_editPost=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var updatedPost;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:updatedPost={token:token,title:newTitle,description:newDescription,location:newLocation,price:newPrice,willDeliver:newWillDeliver,_id:postID};_context.next=3;return updatePost(updatedPost);case 3:retrievePosts();navigate('./posts');case 5:case\"end\":return _context.stop();}}},_callee);}));return _editPost.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){e.preventDefault();editPost();},children:[/*#__PURE__*/_jsx(\"input\",{className:\"inputs\",type:\"text\",placeholder:title,onChange:function onChange(e){return setNewTitle(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"inputs\",type:\"text\",placeholder:description,onChange:function onChange(e){return setNewDescription(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"inputs\",type:\"text\",placeholder:location,onChange:function onChange(e){return setNewLocation(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"inputs\",type:\"text\",placeholder:price,onChange:function onChange(e){return setNewPrice(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{className:\"checkbox-wrapper\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",placeholder:willDeliver,onChange:function onChange(e){return setNewWillDeliver(e.target.checked);}}),/*#__PURE__*/_jsx(\"span\",{children:\"check box if you can deliver item(s)\"})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Edit Post\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deletePosts(token,postID);},children:\"Delete Post\"})]});};export default EditPost;","map":{"version":3,"names":["React","useState","useParams","updatePost","deletePosts","EditPost","posts","token","navigate","retrievePosts","postID","filter","post","_id","currentPost","title","description","location","price","willDeliver","newTitle","setNewTitle","newDescription","setNewDescription","newLocation","setNewLocation","newPrice","setNewPrice","newWillDeliver","setNewWillDeliver","editPost","updatedPost","e","preventDefault","target","value","checked"],"sources":["/Users/francis/Desktop/Bootcamp/Stranger's Things/src/components/EditPost.js"],"sourcesContent":["import {React, useState} from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport {updatePost, deletePosts} from \"../api\"\nimport \"../style.css\"\n\n\nconst EditPost = ({ posts, token, navigate, retrievePosts}) => {\n    \n    const { postID } = useParams();\n\n    const [currentPost] = posts.filter(post => post._id === postID);\n    const {title, description, location, price, willDeliver} = currentPost;\n   \n    const [newTitle, setNewTitle] = useState(title)\n    const [newDescription, setNewDescription] = useState(description)\n    const [newLocation, setNewLocation] = useState(location)\n    const [newPrice, setNewPrice] = useState(price)\n    const [newWillDeliver, setNewWillDeliver] = useState(willDeliver)\n    \n    async function editPost() {\n            const updatedPost = {\n               token: token,\n               title: newTitle,\n               description: newDescription,\n               location: newLocation,\n               price: newPrice,\n               willDeliver: newWillDeliver,\n               _id: postID\n            }\n            await updatePost(updatedPost)\n            retrievePosts();\n            navigate('./posts')\n        }\n    return (\n            <form onSubmit={(e) => {\n                e.preventDefault();\n                editPost();\n            }}>\n                <input className=\"inputs\" type=\"text\" placeholder={title} onChange={(e) => setNewTitle(e.target.value)}></input>\n                <input className=\"inputs\" type=\"text\" placeholder={description} onChange={(e) => setNewDescription(e.target.value)}></input>\n                <input className=\"inputs\" type=\"text\" placeholder={location} onChange={(e) => setNewLocation(e.target.value)}></input>\n                <input className=\"inputs\" type=\"text\" placeholder={price} onChange={(e) => setNewPrice(e.target.value)}></input>\n                <div className=\"checkbox-wrapper\">\n                <label>\n                <input type=\"checkbox\" placeholder={willDeliver} onChange={(e) => setNewWillDeliver(e.target.checked)}></input>\n                <span>check box if you can deliver item(s)</span>\n                </label>\n                </div>\n                <button type='submit'>Edit Post</button>\n                <button onClick={() => deletePosts(token, postID)}>Delete Post</button>\n                \n    \n            </form>\n        )\n\n}\nexport default EditPost"],"mappings":"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"},"metadata":{},"sourceType":"module"}